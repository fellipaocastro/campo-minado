$( document ).ready( function() {    var TOTAL_LINHAS = 5;    var TOTAL_COLUNAS = 5;    var TOTAL_BOMBAS = 5;    var campo = [];    var totalFalhas = 0;    var validaConfiguracoes = function() {        if( TOTAL_LINHAS < 1 ) {            alert( 'É necessário setar ao menos uma linha para criar o jogo!' );            totalFalhas++;        }        if( TOTAL_COLUNAS < 1 ) {            alert( 'É necessário setar ao menos uma coluna para criar o jogo!' );            totalFalhas++;        }        if( TOTAL_BOMBAS < 1 ) {            alert( 'É necessário setar ao menos uma bomba para criar o jogo!' );            totalFalhas++;        }        if ( TOTAL_BOMBAS > ( TOTAL_LINHAS * TOTAL_COLUNAS ) ) {            alert( 'O número de bombas não pode ser maior que a relação linhas x colunas!' );            totalFalhas++;        }    }    var main = function() {        validaConfiguracoes();        if ( totalFalhas == 0 ) {            $( '#campo' ).html( constroiCampo() );            $( '.row > a' ).on( 'click', function( e ) {                escolherQuadrado( $( this ) );                e.preventDefault();            });            for( var i = 1; i <= TOTAL_BOMBAS; i++ ) {                esconderBomba();            }        }    }    var constroiCampo = function() {        var html = '';                for ( var i = 1; i <= TOTAL_LINHAS; i++ ) {            html += '<div class="row" id="linha-' + i +'">';            campo[ i ] = [];            for ( var j = 1; j <= TOTAL_COLUNAS; j++ ) {                campo[ i ][ j ] = '';                                html += '<a href="#"><div class="col-md-1" id="coluna-' + j + '">&nbsp;</div></a>';            }            html += '</div>';        }        return html;    }    var retornarRandomico = function( min, max ) {        return Math.floor( Math.random() * ( max - min + 1 ) ) + min;    }    var esconderBomba = function() {                var linha = retornarRandomico( 1, TOTAL_LINHAS );        var coluna = retornarRandomico( 1, TOTAL_COLUNAS );        if ( campo[ linha ][ coluna ] != 'BOMBA' ) {            campo[ linha ][ coluna ] = 'BOMBA';            // $( '#linha-' + linha + '> a > #coluna-' + coluna ).addClass( 'bomba' );        } else {            esconderBomba();        }    }    var escolherQuadrado = function(link) {        var linha = link.parent().attr( 'id' );        linha = linha.split( '-' );        linha = linha[1];        var coluna = link.children().attr( 'id' );        coluna = coluna.split( '-' );        coluna = coluna[1];        if( campo[ linha ][ coluna ] == 'BOMBA' ) {            $( '#linha-' + linha + '> a > #coluna-' + coluna ).addClass( 'bomba' );            alert( 'B-O-M-B-A!' );            location.reload();        } else {            var bombasRedor = 0;            linha = parseInt( linha );            coluna = parseInt( coluna );            if ( typeof( campo[ linha - 1 ] ) != 'undefined' && typeof( campo[ coluna - 1 ] ) != 'undefined' ) {                if ( campo[ linha - 1 ][ coluna - 1 ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( typeof( campo[ linha - 1 ] ) != 'undefined' ) {                if ( campo[ linha - 1 ][ coluna ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( typeof( campo[ linha - 1 ] ) != 'undefined' && typeof( campo[ coluna + 1 ] ) != 'undefined' ) {                if ( campo[ linha - 1 ][ coluna + 1 ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( typeof( campo[ coluna - 1 ] ) != 'undefined' ) {                if ( campo[ linha ][ coluna - 1 ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( typeof( campo[ coluna + 1 ] ) != 'undefined' ) {                if ( campo[ linha ][ coluna + 1 ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( typeof( campo[ linha + 1 ] ) != 'undefined' && typeof( campo[ coluna - 1 ] ) != 'undefined' ) {                if ( campo[ linha + 1 ][ coluna - 1 ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( typeof( campo[ linha + 1 ] ) != 'undefined' ) {                if ( campo[ linha + 1 ][ coluna ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( typeof( campo[ linha + 1 ] ) != 'undefined' && typeof( campo[ coluna + 1 ] ) != 'undefined' ) {                if ( campo[ linha + 1 ][ coluna + 1 ] == 'BOMBA' ) {                    bombasRedor++;                }            }            if ( bombasRedor > 0 ) {                $( '#linha-' + linha + '> a > #coluna-' + coluna ).html( bombasRedor );            }        }    }    main();});